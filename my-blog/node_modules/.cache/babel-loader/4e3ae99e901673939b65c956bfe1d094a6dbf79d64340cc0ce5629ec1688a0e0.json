{"ast":null,"code":"import React,{useContext,useState}from'react';import{Link}from'react-router-dom';import{FaArrowLeft,FaArrowRight}from'react-icons/fa';import{BlogContext}from'./BlogProvider';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const stripHtml=html=>{const tmp=document.createElement(\"DIV\");tmp.innerHTML=html;return tmp.textContent||tmp.innerText||\"\";};const Blog=()=>{const{blogs,loading,error}=useContext(BlogContext);const[currentPage,setCurrentPage]=useState(1);const postsPerPage=4;if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsxs(\"div\",{children:[\"Error: \",error]});const totalPages=Math.ceil(blogs.length/postsPerPage);const indexOfLastPost=currentPage*postsPerPage;const indexOfFirstPost=indexOfLastPost-postsPerPage;const currentPosts=blogs.slice(indexOfFirstPost,indexOfLastPost);const nextPage=()=>{setCurrentPage(prev=>Math.min(prev+1,totalPages));};const prevPage=()=>{setCurrentPage(prev=>Math.max(prev-1,1));};return/*#__PURE__*/_jsxs(\"div\",{className:\"blog-page\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"blog-header\",children:\"Blog\"}),/*#__PURE__*/_jsx(\"div\",{className:\"underline\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"blog-thumbnails-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"blog-grid\",children:currentPosts.map(post=>/*#__PURE__*/_jsxs(\"div\",{className:\"blog-thumbnail\",children:[/*#__PURE__*/_jsx(\"img\",{src:post.image,alt:post.title}),/*#__PURE__*/_jsx(\"h3\",{children:post.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"post-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"author\",children:post.author}),/*#__PURE__*/_jsx(\"span\",{className:\"separator\",children:\" - \"}),/*#__PURE__*/_jsx(\"span\",{className:\"date\",children:post.date})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"post-excerpt\",children:[stripHtml(post.post).substring(0,100),\"...\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"category-button\",children:post.category}),/*#__PURE__*/_jsx(Link,{to:`/blog/${post.id}`,className:\"read-more-button\",children:\"Read More\"})]})]},post.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"pagination\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:prevPage,disabled:currentPage===1,children:/*#__PURE__*/_jsx(FaArrowLeft,{})}),/*#__PURE__*/_jsxs(\"span\",{children:[currentPage,\" of \",totalPages]}),/*#__PURE__*/_jsx(\"button\",{onClick:nextPage,disabled:currentPage===totalPages,children:/*#__PURE__*/_jsx(FaArrowRight,{})})]})]})]});};export default Blog;","map":{"version":3,"names":["React","useContext","useState","Link","FaArrowLeft","FaArrowRight","BlogContext","jsx","_jsx","jsxs","_jsxs","stripHtml","html","tmp","document","createElement","innerHTML","textContent","innerText","Blog","blogs","loading","error","currentPage","setCurrentPage","postsPerPage","children","totalPages","Math","ceil","length","indexOfLastPost","indexOfFirstPost","currentPosts","slice","nextPage","prev","min","prevPage","max","className","map","post","src","image","alt","title","author","date","substring","category","to","id","onClick","disabled"],"sources":["C:/Users/andyh/OneDrive/Documents/GitHub/Blog/my-blog/src/Blog.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { FaArrowLeft, FaArrowRight } from 'react-icons/fa';\r\nimport { BlogContext } from './BlogProvider';\r\n\r\nconst stripHtml = (html) => {\r\n    const tmp = document.createElement(\"DIV\");\r\n    tmp.innerHTML = html;\r\n    return tmp.textContent || tmp.innerText || \"\";\r\n}\r\n\r\nconst Blog = () => {\r\n    const { blogs, loading, error } = useContext(BlogContext);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n    const postsPerPage = 4;\r\n\r\n    if (loading) return <div>Loading...</div>;\r\n    if (error) return <div>Error: {error}</div>;\r\n\r\n    const totalPages = Math.ceil(blogs.length / postsPerPage);\r\n    const indexOfLastPost = currentPage * postsPerPage;\r\n    const indexOfFirstPost = indexOfLastPost - postsPerPage;\r\n    const currentPosts = blogs.slice(indexOfFirstPost, indexOfLastPost);\r\n\r\n    const nextPage = () => {\r\n        setCurrentPage(prev => Math.min(prev + 1, totalPages));\r\n    };\r\n\r\n    const prevPage = () => {\r\n        setCurrentPage(prev => Math.max(prev - 1, 1));\r\n    };\r\n\r\n    return (\r\n        <div className=\"blog-page\">\r\n            <h1 className=\"blog-header\">Blog</h1>\r\n            <div className=\"underline\"></div>\r\n            <div className=\"blog-thumbnails-container\">\r\n                <div className=\"blog-grid\">\r\n                    {currentPosts.map(post => (\r\n                        <div key={post.id} className=\"blog-thumbnail\">\r\n                            <img src={post.image} alt={post.title} />\r\n                            <h3>{post.title}</h3>\r\n                            <p className=\"post-info\">\r\n                                <span className=\"author\">{post.author}</span>\r\n                                <span className=\"separator\"> - </span>\r\n                                <span className=\"date\">{post.date}</span>\r\n                            </p>\r\n                            <p className=\"post-excerpt\">\r\n                                {stripHtml(post.post).substring(0, 100)}...\r\n                            </p>\r\n                            <div className=\"button-container\">\r\n                                <button className=\"category-button\">{post.category}</button>\r\n                                <Link to={`/blog/${post.id}`} className=\"read-more-button\">Read More</Link>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n                <div className=\"pagination\">\r\n                    <button onClick={prevPage} disabled={currentPage === 1}>\r\n                        <FaArrowLeft />\r\n                    </button>\r\n                    <span>{currentPage} of {totalPages}</span>\r\n                    <button onClick={nextPage} disabled={currentPage === totalPages}>\r\n                        <FaArrowRight />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Blog;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CACnD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,WAAW,CAAEC,YAAY,KAAQ,gBAAgB,CAC1D,OAASC,WAAW,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,KAAM,CAAAC,SAAS,CAAIC,IAAI,EAAK,CACxB,KAAM,CAAAC,GAAG,CAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC,CACzCF,GAAG,CAACG,SAAS,CAAGJ,IAAI,CACpB,MAAO,CAAAC,GAAG,CAACI,WAAW,EAAIJ,GAAG,CAACK,SAAS,EAAI,EAAE,CACjD,CAAC,CAED,KAAM,CAAAC,IAAI,CAAGA,CAAA,GAAM,CACf,KAAM,CAAEC,KAAK,CAAEC,OAAO,CAAEC,KAAM,CAAC,CAAGrB,UAAU,CAACK,WAAW,CAAC,CACzD,KAAM,CAACiB,WAAW,CAAEC,cAAc,CAAC,CAAGtB,QAAQ,CAAC,CAAC,CAAC,CACjD,KAAM,CAAAuB,YAAY,CAAG,CAAC,CAEtB,GAAIJ,OAAO,CAAE,mBAAOb,IAAA,QAAAkB,QAAA,CAAK,YAAU,CAAK,CAAC,CACzC,GAAIJ,KAAK,CAAE,mBAAOZ,KAAA,QAAAgB,QAAA,EAAK,SAAO,CAACJ,KAAK,EAAM,CAAC,CAE3C,KAAM,CAAAK,UAAU,CAAGC,IAAI,CAACC,IAAI,CAACT,KAAK,CAACU,MAAM,CAAGL,YAAY,CAAC,CACzD,KAAM,CAAAM,eAAe,CAAGR,WAAW,CAAGE,YAAY,CAClD,KAAM,CAAAO,gBAAgB,CAAGD,eAAe,CAAGN,YAAY,CACvD,KAAM,CAAAQ,YAAY,CAAGb,KAAK,CAACc,KAAK,CAACF,gBAAgB,CAAED,eAAe,CAAC,CAEnE,KAAM,CAAAI,QAAQ,CAAGA,CAAA,GAAM,CACnBX,cAAc,CAACY,IAAI,EAAIR,IAAI,CAACS,GAAG,CAACD,IAAI,CAAG,CAAC,CAAET,UAAU,CAAC,CAAC,CAC1D,CAAC,CAED,KAAM,CAAAW,QAAQ,CAAGA,CAAA,GAAM,CACnBd,cAAc,CAACY,IAAI,EAAIR,IAAI,CAACW,GAAG,CAACH,IAAI,CAAG,CAAC,CAAE,CAAC,CAAC,CAAC,CACjD,CAAC,CAED,mBACI1B,KAAA,QAAK8B,SAAS,CAAC,WAAW,CAAAd,QAAA,eACtBlB,IAAA,OAAIgC,SAAS,CAAC,aAAa,CAAAd,QAAA,CAAC,MAAI,CAAI,CAAC,cACrClB,IAAA,QAAKgC,SAAS,CAAC,WAAW,CAAM,CAAC,cACjC9B,KAAA,QAAK8B,SAAS,CAAC,2BAA2B,CAAAd,QAAA,eACtClB,IAAA,QAAKgC,SAAS,CAAC,WAAW,CAAAd,QAAA,CACrBO,YAAY,CAACQ,GAAG,CAACC,IAAI,eAClBhC,KAAA,QAAmB8B,SAAS,CAAC,gBAAgB,CAAAd,QAAA,eACzClB,IAAA,QAAKmC,GAAG,CAAED,IAAI,CAACE,KAAM,CAACC,GAAG,CAAEH,IAAI,CAACI,KAAM,CAAE,CAAC,cACzCtC,IAAA,OAAAkB,QAAA,CAAKgB,IAAI,CAACI,KAAK,CAAK,CAAC,cACrBpC,KAAA,MAAG8B,SAAS,CAAC,WAAW,CAAAd,QAAA,eACpBlB,IAAA,SAAMgC,SAAS,CAAC,QAAQ,CAAAd,QAAA,CAAEgB,IAAI,CAACK,MAAM,CAAO,CAAC,cAC7CvC,IAAA,SAAMgC,SAAS,CAAC,WAAW,CAAAd,QAAA,CAAC,KAAG,CAAM,CAAC,cACtClB,IAAA,SAAMgC,SAAS,CAAC,MAAM,CAAAd,QAAA,CAAEgB,IAAI,CAACM,IAAI,CAAO,CAAC,EAC1C,CAAC,cACJtC,KAAA,MAAG8B,SAAS,CAAC,cAAc,CAAAd,QAAA,EACtBf,SAAS,CAAC+B,IAAI,CAACA,IAAI,CAAC,CAACO,SAAS,CAAC,CAAC,CAAE,GAAG,CAAC,CAAC,KAC5C,EAAG,CAAC,cACJvC,KAAA,QAAK8B,SAAS,CAAC,kBAAkB,CAAAd,QAAA,eAC7BlB,IAAA,WAAQgC,SAAS,CAAC,iBAAiB,CAAAd,QAAA,CAAEgB,IAAI,CAACQ,QAAQ,CAAS,CAAC,cAC5D1C,IAAA,CAACL,IAAI,EAACgD,EAAE,CAAE,SAAST,IAAI,CAACU,EAAE,EAAG,CAACZ,SAAS,CAAC,kBAAkB,CAAAd,QAAA,CAAC,WAAS,CAAM,CAAC,EAC1E,CAAC,GAdAgB,IAAI,CAACU,EAeV,CACR,CAAC,CACD,CAAC,cACN1C,KAAA,QAAK8B,SAAS,CAAC,YAAY,CAAAd,QAAA,eACvBlB,IAAA,WAAQ6C,OAAO,CAAEf,QAAS,CAACgB,QAAQ,CAAE/B,WAAW,GAAK,CAAE,CAAAG,QAAA,cACnDlB,IAAA,CAACJ,WAAW,GAAE,CAAC,CACX,CAAC,cACTM,KAAA,SAAAgB,QAAA,EAAOH,WAAW,CAAC,MAAI,CAACI,UAAU,EAAO,CAAC,cAC1CnB,IAAA,WAAQ6C,OAAO,CAAElB,QAAS,CAACmB,QAAQ,CAAE/B,WAAW,GAAKI,UAAW,CAAAD,QAAA,cAC5DlB,IAAA,CAACH,YAAY,GAAE,CAAC,CACZ,CAAC,EACR,CAAC,EACL,CAAC,EACL,CAAC,CAEd,CAAC,CAED,cAAe,CAAAc,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}